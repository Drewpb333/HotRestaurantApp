<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Tables Page</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
	<div class="container">
		<div class="jumbotron">
			<h1 class="text-center">Hot Restaurant</h1>
			<hr>
			<h2 class="text-center">Current Reservations and Waiting List</h2>
			<br>
			<div class="text-center">
				<a href="/reserve">
					<button type="button" class="btn btn-lg btn-danger">Make Reservation</button>
				</a>
				<a href="/">
					<button type="button" class="btn btn-lg btn-default">Home</button>
				</a>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h4 class="panel-title">Current Reservations</h4>
					</div>
					<div class="panel-body" id="tableSection">
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h4 class="panel-title">Waiting List</h4>
					</div>
					<div class="panel-body" id="waitlistSection">
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script>
	$.get("/api/tables", function (data) {
		//reserved patrons
		if (data) {
			for (var i = 0; i < 5; i++) {
				if (data[i]) {
					var newDiv = $("<div>");
					newDiv.addClass("well");
					var newH2 = $("<h2>");
					var newSpan = $("<span>");
					newSpan.attr("class", "label label-primary");
					newSpan.text(i + 1);
					newH2.text(" | " + data[i].name)
					newH2.prepend(newSpan);
					newDiv.append(newH2);
					$("#tableSection").append(newDiv);
				}
			}
			for (var j = 5; j < data.length; j++) {
				if (data[j]) {
					var newDiv2 = $("<div>");
					newDiv2.addClass("well");
					var newH2two = $("<h2>");
					var newSpan2 = $("<span>");
					newSpan2.attr("class", "label label-primary");
					newSpan2.text(i + 1);
					newH2two.text(" | " + data[j].name)
					newH2two.prepend(newSpan2);
					newDiv2.append(newH2two);
					$("#waitlistSection").append(newDiv2);
				}
			}
		}
	});
</script>

</html>